# üè¶ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Pay –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞

## üìã –û–±–∑–æ—Ä

–ë—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Google Pay –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

- ‚úÖ **–¢–∞–±–ª–∏—Ü—ã –∫–æ—à–µ–ª—å–∫–æ–≤ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** –≤ Supabase
- ‚úÖ **API –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π** 
- ‚úÖ **UI –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å—É–º–º—ã –∏ Google Pay –∫–Ω–æ–ø–∫–∏**
- ‚úÖ **–†–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Pay SDK**

## üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü:**
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª supabase-wallet.sql –≤ Supabase SQL Editor
   ```

2. **–¢–∞–±–ª–∏—Ü—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã:**
   - `wallets` - –∫–æ—à–µ–ª—å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - `transactions` - –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π  
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Pay

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ Google Pay Business Console

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Google Pay Business Console](https://pay.google.com/business/console/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –±–∏–∑–Ω–µ—Å-–∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –ü–æ–ª—É—á–∏—Ç–µ –≤–∞—à **Merchant ID**

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

–í–∞–º –Ω—É–∂–µ–Ω –ø–ª–∞—Ç–µ–∂–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π Google Pay:
- **Stripe** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **PayPal**
- **Adyen**
- **Square**
- –∏–ª–∏ –¥—Ä—É–≥–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä

### 3. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ –∫–æ–¥–µ

–í —Ñ–∞–π–ª–µ `components/TopUpModal.js` –∑–∞–º–µ–Ω–∏—Ç–µ:

```javascript
// –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
tokenizationSpecification: {
  type: 'PAYMENT_GATEWAY',
  parameters: {
    gateway: 'stripe', // –∏–ª–∏ –≤–∞—à –ø—Ä–æ–≤–∞–π–¥–µ—Ä
    gatewayMerchantId: 'YOUR_GATEWAY_MERCHANT_ID'
  }
},
merchantInfo: {
  merchantId: 'YOUR_GOOGLE_PAY_MERCHANT_ID',
  merchantName: 'Cloudes Market'
}
```

### 4. –û–±–Ω–æ–≤–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–ª–∞—Ç–µ–∂–µ–π

–í —Ñ–∞–π–ª–µ `pages/api/wallet/googlepay.js` –∑–∞–º–µ–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `simulateGooglePayment` –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –≤–∞—à–∏–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º.

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ –≤–∞—à `.env.local`:

```bash
# Google Pay
GOOGLE_PAY_MERCHANT_ID=your_merchant_id
GOOGLE_PAY_ENVIRONMENT=TEST  # –∏–ª–∏ PRODUCTION

# –í–∞—à –ø–ª–∞—Ç–µ–∂–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, Stripe)
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
```

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- üí≥ **–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Google Pay** —Å —Å—É–º–º–æ–π –æ—Ç 50 –¥–æ 100,000 ‚ÇΩ
- üì± **–ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä —Å—É–º–º—ã** (100, 500, 1000, 2000, 5000, 10000 ‚ÇΩ)
- üí∞ **–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è —Å—É–º–º–∞** —á–µ—Ä–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
- üìä **–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üîî **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ–± —É—Å–ø–µ—à–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–∞—Ö

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
- üè¶ **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ Supabase
- üìà **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- üîí **RLS (Row Level Security)** –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö
- ‚ö° **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–æ–≤** –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- üõ°Ô∏è **–í–∞–ª–∏–¥–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–æ–≤** –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤

## üì± –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1. **–û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–æ—à–µ–ª–µ–∫** —á–µ—Ä–µ–∑ –±–æ–∫–æ–≤–æ–µ –º–µ–Ω—é
2. **–ù–∞–∂–∏–º–∞–µ—Ç "–ü–æ–ø–æ–ª–Ω–∏—Ç—å"** 
3. **–í—ã–±–∏—Ä–∞–µ—Ç —Å—É–º–º—É** –∏–ª–∏ –≤–≤–æ–¥–∏—Ç —Å–≤–æ—é
4. **–ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É Google Pay**
5. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–ª–∞—Ç–µ–∂** –≤ Google Pay
6. **–ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
7. **–í–∏–¥–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏—é** –≤ –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

## üé® UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **WalletMenu** - –æ—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é –∫–æ—à–µ–ª—å–∫–∞
- **TopUpModal** - –º–æ–¥–∞–ª –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞  
- **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ API
- **Adaptive design** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –∏ –¥–µ—Å–∫—Ç–æ–ø–∞

## üîß API Endpoints

- `GET /api/wallet/balance` - –ø–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/wallet/transactions` - –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `POST /api/wallet/googlepay` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ Google Pay –ø–ª–∞—Ç–µ–∂–µ–π

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º**: –°–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏–º—É–ª—è—Ü–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
2. **–ü—Ä–æ–¥–∞–∫—à–Ω**: –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π Telegram
4. **–õ–∏–º–∏—Ç—ã**: –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ä–∞–∑—É–º–Ω—ã–µ –ª–∏–º–∏—Ç—ã (50-100,000 ‚ÇΩ)

## üêõ –û—Ç–ª–∞–¥–∫–∞

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** –Ω–∞ –æ—à–∏–±–∫–∏ Google Pay SDK
2. **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–æ–º–µ–Ω –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω** –≤ Google Pay Console  
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ HTTPS** (Google Pay —Ç—Ä–µ–±—É–µ—Ç SSL)
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã** –≤ TEST —Ä–µ–∂–∏–º–µ

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏–ª–∏ Google Pay Console, –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å!