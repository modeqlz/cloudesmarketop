(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{5467:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/test-payment",function(){return r(8788)}])},8788:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return t}});var o=r(5893),i=r(7294);function t(){let[e,n]=(0,i.useState)(!1),[r,t]=(0,i.useState)(""),s=async()=>{n(!0),t("");try{var e;let n=await fetch("/api/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amountCents:500,userId:123456789})}),r=await n.json();if(!n.ok)throw Error(r.error||"Failed to create checkout session");(null===(e=window.Telegram)||void 0===e?void 0:e.WebApp)?window.Telegram.WebApp.openLink(r.url,{try_instant_view:!1}):window.open(r.url,"_blank")}catch(e){console.error("Test payment error:",e),t(e instanceof Error?e.message:"Payment failed")}finally{n(!1)}};return(0,o.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,o.jsx)("h1",{children:"\uD83E\uDDEA Test Payment Page"}),(0,o.jsx)("p",{children:"This page tests payment without any Stripe UI components."}),(0,o.jsx)("button",{onClick:s,disabled:e,style:{padding:"15px 30px",fontSize:"16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"8px",cursor:e?"not-allowed":"pointer",opacity:e?.6:1},children:e?"Creating Session...":"Test $5.00 Payment"}),r&&(0,o.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"8px"},children:[(0,o.jsx)("strong",{children:"Error:"})," ",r]}),(0,o.jsxs)("div",{style:{marginTop:"30px",fontSize:"14px",color:"#666"},children:[(0,o.jsx)("h3",{children:"How it works:"}),(0,o.jsxs)("ol",{children:[(0,o.jsx)("li",{children:"Click the button above"}),(0,o.jsx)("li",{children:"Session is created on server"}),(0,o.jsx)("li",{children:"Payment page opens in external browser"}),(0,o.jsx)("li",{children:"Google Pay will be available there"})]})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5467)}),_N_E=e.O()}]);